<div class="inventory-container">
  <h2>ðŸŽ’ User Inventory</h2>
  
  <div *ngIf="loading" class="loading">
    Loading inventory data...
  </div>
  
  <div *ngIf="error" class="error">
    {{ error }}
  </div>
  
  <div *ngIf="!loading && !error" class="inventory-content">
    <!-- User Selection -->
    <div class="user-selector">
      <label for="userSelect">Select User:</label>
      <select id="userSelect" (change)="onUserChange($event)" [value]="selectedUserId">
        <option *ngFor="let user of users" [value]="user.id">
          {{ user.name }} (ðŸ’° {{ user.credit }} credits)
        </option>
      </select>
    </div>

    <!-- Selected User Info -->
    <div *ngIf="getSelectedUser()" class="user-info">
      <h3>{{ getSelectedUser()?.name }}'s Inventory</h3>
      <p class="credits">ðŸ’° Credits: {{ getSelectedUser()?.credit }}</p>
      <p class="total-value">ðŸ“Š Total Inventory Value: {{ getTotalValue() }} credits</p>
    </div>

    <!-- Inventory Grid -->
    <div class="inventory-grid" *ngIf="getUserInventory().length > 0">
      <div *ngFor="let inventoryItem of getUserInventory()" class="inventory-item">
        <div class="item-image">{{ getItemForInventory(inventoryItem)?.image }}</div>
        <div class="item-details">
          <h4>{{ getItemForInventory(inventoryItem)?.name }}</h4>
          <p class="quantity">Quantity: {{ inventoryItem.quantity }}</p>
          <p class="value">Value: {{ getItemForInventory(inventoryItem)?.value }} credits each</p>
          <p class="total-item-value">
            Total: {{ (getItemForInventory(inventoryItem)?.value || 0) * inventoryItem.quantity }} credits
          </p>
        </div>
      </div>
    </div>

    <div *ngIf="getUserInventory().length === 0" class="no-items">
      {{ getSelectedUser()?.name }} has no items in their inventory.
    </div>
  </div>
</div>
